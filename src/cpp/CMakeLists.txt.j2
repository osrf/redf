# This file is generated by redf

cmake_minimum_required(VERSION 3.16)
project({{project_name}})

find_package(rclcpp REQUIRED)
{% if have_actions -%}
find_package(rclcpp_action REQUIRED)
{%- endif %}
find_package(ament_cmake REQUIRED)
{%- for pkg in packages %}
find_package({{pkg}} REQUIRED)
{%- endfor %}

add_library({{project_name}} INTERFACE)
target_include_directories({{project_name}} INTERFACE
{%- for pkg in packages %}
  {%raw%}${{%endraw%}{{pkg}}_INCLUDE_DIRS}
{%- endfor %}
)
target_link_libraries({{project_name}} INTERFACE rclcpp::rclcpp {% if have_actions -%} rclcpp_action::rclcpp_action {%- endif %}
{%- for pkg in packages %}
  {%raw%}${{%endraw%}{{pkg}}_LIBRARIES}
{%- endfor %}
)
set_target_properties({{project_name}} PROPERTIES PUBLIC_HEADER {{project_name}}.hpp)

install(
  TARGETS {{project_name}}
  EXPORT {{project_name}}
  PUBLIC_HEADER
    DESTINATION include/{{project_name}}
  INCLUDES DESTINATION include/{{project_name}}
)
ament_export_targets({{project_name}})
ament_export_dependencies(
  {% if have_actions -%}
  rclcpp_action
  {%- endif %}
  {%- for pkg in packages %}
  {{pkg}}
  {%- endfor %}
)

ament_package()
